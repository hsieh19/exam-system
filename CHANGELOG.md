# 更新日志 (Changelog)

## [1.0.12] - 2026-01-20

### 🚀 系统优化与安全性
- **高并发支持**: 在 `README.md` 中增加了详细的数据库选型、Redis 会话及连接池优化配置指南。
- **默认账号补完**: 修正了数据库初始化逻辑，现在系统首次启动时会自动创建 `admin` 和 `student` 两个默认账号，且账号可由管理员自行删除。
- **UI/UX 改进**:
  - 删除了登录页面下方的默认账号明文显示，增强隐私安全。
  - 统一了文档、UI 与后端初始化逻辑中的默认用户名（原“张三”统一为 `student`）。
- **Bug 修复**: 修复了 PostgreSQL 初始化脚本中缺失 `VALUES` 关键字的问题。

## [1.0.11] - 2026-01-20

### 🛡️ 安全性与健壮性增强
- **配置校验**:
  - 在 `server.js` 启动时增加 `.env` 文件探测，若缺失则输出黄色警告日志。
  - 在 `run.sh` 启动流程中增加配置文件强制检查。
  - 若 `.env` 缺失但存在 `.env.example`，脚本将自动根据模板创建配置文件，确保环境配置项完整。
  - 防止系统在无配置状态下“静默启动”导致的高并发环境降级风险。

## [1.0.10] - 2026-01-20

### 🐛 问题修复
- **部署脚本**:
  - 修复了系统更新时 `run.sh` 未能同步更新 `.env.example` 文件的问题。
  - 现在执行更新操作将自动刷新 `.env.example`，方便用户参考最新的配置项（如 `USE_REDIS`, `DB_CONNECTION_LIMIT`）。

## [1.0.9] - 2026-01-20

### 🔥 高并发架构优化
- **会话架构 (Session)**:
  - 实现了通用的 `SessionStore` 接口，支持内存和 Redis 两种模式。
  - 引入 `USE_REDIS` 环境变量，支持基于 Redis 的分布式会话管理。
- **数据库性能**:
  - 支持通过 `DB_CONNECTION_LIMIT` 环境变量配置 MySQL/PostgreSQL 的连接池大小。
- **文件上传稳定性**:
  - 将文件上传方式切换为磁盘暂存 (Disk Storage)，防止高并发下内存溢出 (OOM)。
- **进程管理**:
  - 新增 `ecosystem.config.js` 配置文件，支持 PM2 集群模式。

### 🛠️ 系统工具
- **自动配置**:
  - 在 `run.sh` 中新增了 `install_redis` 功能 (菜单选项 11)。
  - 支持在 Linux 上一键安装并配置 Redis。
